# Enhanced Environment Configuration Template
# Copy this file to .env and update with your actual values

# Application Configuration
APP_NAME=your-app-name
APP_VERSION=1.0.0
APP_ENV=development  # development, staging, production
DEBUG=false
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Application Ports
BACKEND_PORT=8000
FRONTEND_PORT=3000
ADMINER_PORT=8080

# PostgreSQL Database Configuration
POSTGRES_USER=user
POSTGRES_PASSWORD=your-strong-password-here  # Minimum 8 characters, include numbers and symbols
POSTGRES_DB=app_db
POSTGRES_HOST=db
POSTGRES_PORT=5432
DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}"

# Database Connection Pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Cache Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here  # Recommended for production
REDIS_DB=0
REDIS_URL="redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}"

# Security Configuration
# Generate a strong secret key: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-this-in-production-minimum-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_SALT_ROUNDS=12

# CORS Configuration
CORS_ORIGINS=["http://localhost:3000", "http://localhost", "https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=Your App Name
NEXT_PUBLIC_APP_VERSION=1.0.0

# Monitoring & Logging
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
LOG_FORMAT=json  # json, text
LOG_CORRELATION_ID=true

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@yourdomain.com

# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_DIR=uploads

# CDN Configuration
CDN_URL=https://cdn.yourdomain.com
CDN_ENABLED=false

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Performance Configuration
CACHE_TTL=3600  # 1 hour in seconds
API_TIMEOUT=30  # seconds
WORKER_PROCESSES=4

# Development Tools
STORYBOOK_PORT=6006
API_DOCS_PORT=8001
DEBUGGER_PORT=9229

# Testing Configuration
TEST_DATABASE_URL="postgresql://testuser:testpassword@localhost:5432/testdb"
TEST_REDIS_URL="redis://localhost:6379/1"
COVERAGE_THRESHOLD=80

# Production Specific
PRODUCTION_DOMAIN=yourdomain.com
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.com.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.com.key

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';"

# Session Configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# API Security
API_KEY_HEADER=X-API-Key
API_RATE_LIMIT_ENABLED=true
API_VERSIONING_ENABLED=true
API_VERSION=v1

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Error Reporting
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
ERROR_REPORTING_ENABLED=false
